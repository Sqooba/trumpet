<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Operations - Trumpet -- HDFS Notification System for Apache Hadoop</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../site/css/base.css" rel="stylesheet">
  <link href="../site/css/bootstrap-custom.min.css" rel="stylesheet">
  <link href="../site/css/font-awesome-4.0.3.css" rel="stylesheet">
  <link href="../site/css/highlight.css" rel="stylesheet">

  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script>
  <script src="../site/js/base.js"></script>
  <script src="../site/js/bootstrap-3.0.3.min.js"></script>
  <script src="../site/js/highlight.pack.js"></script>
  <script src="../site/js/jquery-1.10.2.min.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Trumpet -- HDFS Notification System for Apache Hadoop</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
            <li class="toctree-l1 ">
                <a class="" href="..">Trumpet Home</a>
                
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../changelog/">Changelog</a>
                
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../architecture/">Architecture</a>
                
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../build/">Build Deploy and Run</a>
                
            </li>
        

    
        
            <li class="toctree-l1 current">
                <a class="current" href="./">Operations</a>
                
                    <ul>
                    
                        <li class="toctree-l3"><a href="#validate-correctness-and-completeness">Validate correctness and completeness</a></li>
                        
                    
                        <li class="toctree-l3"><a href="#peek-kafka-topic">Peek Kafka topic</a></li>
                        
                    
                        <li class="toctree-l3"><a href="#workers-status">Workers status</a></li>
                        
                    
                        <li class="toctree-l3"><a href="#use-it">Use it</a></li>
                        
                    
                    </ul>
                
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../license/">License</a>
                
            </li>
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Trumpet -- HDFS Notification System for Apache Hadoop</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
    <li>Operations</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <p>To operate Trumpet on a day-to-day basis, tools are provided to help to understand what's going on in Trumpet</p>
<h2 id="validate-correctness-and-completeness">Validate correctness and completeness</h2>
<p>A tool is provided which goes back in time as much it can both in the kafka topic and <code>dfs.*.name.dir</code> 
and validate that all the transactions in the edit log dir are in Kafka and match:</p>
<pre><code>$ /opt/trumpet/server/bin/events-validator.sh --zk.connect &lt;zk_ip:2181&gt; --dfs.edits.dir &lt;root_dir_where_edits_files_are_stored&gt; --numofevents 1000000
</code></pre>

<h2 id="peek-kafka-topic">Peek Kafka topic</h2>
<p>At any time, you can peek the Kafka topic, i.e. retrieve and display in a console the <em>n</em> latest messages:</p>
<pre><code>$ /opt/trumpet/server/bin/peek-events.sh --zk.connect &lt;zk_ip:2181&gt; --numofevents 100
</code></pre>

<h2 id="workers-status">Workers status</h2>
<p>An utility is also provided to display the running Trumpet workers as well as which one is the leader</p>
<pre><code>$ /opt/trumpet/server/bin/list-trumpet-workers.sh --zk.connect &lt;zk_ip:2181&gt;
</code></pre>

<h2 id="use-it">Use it</h2>
<p>Trumpet comes out as a new building block in the Hadoop ecosystem 
and unleashes brand new capabilities to HDFS. As it relies mostly on Kafka 
for the distribution of the events to the clients, it scales pretty well.</p>
<p>One really promising use-case built on top of Trumpet in near-real time data replication 
from a source HDFS cluster to a destination HDFS cluster.</p>
<p>TODO: other use-cases here</p>
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../license/" class="btn btn-neutral float-right" title="License"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../build/" class="btn btn-neutral" title="Build Deploy and Run"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
      <span><a href="../build/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../license/" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>

<!--
MkDocs version  : 0.12.2
Docs Build Date : 2015-06-03 09:30:55.186832
-->
</body>
</html>